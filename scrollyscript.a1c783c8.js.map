{"version":3,"sources":["scripts/scrollyscript.js"],"names":["layers","nycBase","d3","selectAll","manhattanBase","council","cb9Outline","neighborhoods","manhattanville","hamilton","morningside","columbia","labels","cb9","manhattan","reset","classed","Object","values","forEach","sel","zoomManhattan","zoomCouncil","fadeCB9","zoomCB9","showMorningside","showManhattanville","showHamilton","showAll","showColumbia","scroller","scrollama","steps","id","action","select","on","setup","step","offset","debug","onStepEnter","element","direction","dispatchEvent","CustomEvent","detail","onStepExit","window","addEventListener","resize"],"mappings":"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","file":"scrollyscript.a1c783c8.js","sourceRoot":"../src","sourcesContent":["const layers = {\n    // Base maps\n    nycBase: d3.selectAll('[class*=\"nyc-img\"]'),\n    manhattanBase: d3.selectAll('[class*=\"manhattan-img\"]'),\n    council: d3.selectAll('[class*=\"council-img\"]'),\n\n    // Neighborhood outlines/images\n    cb9Outline: d3.selectAll('[class*=\"cb9-img\"]'),\n    neighborhoods: d3.selectAll('[class*=\"neighborhoods-img\"]'),\n    manhattanville: d3.selectAll('[class*=\"manhattanville-img\"]'),\n    hamilton: d3.selectAll('[class*=\"hamilton-img\"]'),\n    morningside: d3.selectAll('[class*=\"morningside-img\"]'),\n    columbia: d3.selectAll('[class*=\"columbia-img\"]'),\n\n    // Labels\n    labels: {\n        cb9: d3.selectAll(\".g-cb9\"),\n        manhattan: d3.selectAll(\".g-manhattan\"),\n        council: d3.selectAll(\".g-council\"),\n        manhattanville: d3.selectAll(\".g-manhattanville\"),\n        hamilton: d3.selectAll(\".g-hamilton\"),\n        morningside: d3.selectAll(\".g-morningside\"),\n        columbia: d3.selectAll(\".g-columbia\"),\n    }\n};\n\n\n// ---- Helper functions ----\nfunction reset() {\n    // Show only the NYC base map\n    layers.nycBase.classed(\"hidden\", false).classed(\"zoom\", false);\n\n    // Hide all other image layers\n    layers.manhattanBase.classed(\"hidden\", true).classed(\"zoom\", false);\n    layers.council.classed(\"hidden\", true);\n    layers.cb9Outline.classed(\"hidden\", true);\n    layers.neighborhoods.classed(\"hidden\", true);\n    layers.manhattanville.classed(\"hidden\", true);\n    layers.hamilton.classed(\"hidden\", true);\n    layers.morningside.classed(\"hidden\", true);\n    layers.columbia.classed(\"hidden\", true);\n\n    // Hide all labels\n    Object.values(layers.labels).forEach(sel => sel.classed(\"hidden\", true));\n}\n\n\nfunction zoomManhattan() {\n    layers.nycBase.classed(\"hidden\", true);\n\n    layers.labels.manhattan.classed(\"hidden\", false);\n    layers.manhattanBase.classed(\"hidden\", false);\n\n    layers.council.classed(\"hidden\", true);\n    layers.labels.council.classed(\"hidden\", true);\n}\n\nfunction zoomCouncil() {\n    layers.manhattanBase.classed(\"hidden\", true);\n    layers.labels.manhattan.classed(\"hidden\", true);\n\n    layers.council.classed(\"hidden\", false);\n    layers.labels.council.classed(\"hidden\", false);\n\n    layers.labels.cb9.classed(\"hidden\", true);\n    layers.cb9Outline.classed(\"hidden\", true);\n}\n\nfunction fadeCB9() {\n    // layers.manhattanBase.classed(\"fade_out\", true);\n    layers.council.classed(\"hidden\", true);\n    layers.labels.council.classed(\"hidden\", true);\n\n    layers.labels.cb9.classed(\"hidden\", false);\n    layers.cb9Outline.classed(\"hidden\", false);\n    layers.cb9Outline.classed(\"fade_out\", false);\n\n    layers.neighborhoods.classed(\"hidden\", true);\n\n    layers.labels.morningside.classed(\"hidden\", true);\n    layers.morningside.classed(\"hidden\", true);\n}\n\nfunction zoomCB9() {\n    layers.cb9Outline.classed(\"fade_out\", true);\n    layers.cb9Outline.classed(\"hidden\", true);\n\n    layers.labels.cb9.classed(\"hidden\", true);\n    layers.neighborhoods.classed(\"hidden\", false);\n    layers.morningside.classed(\"hidden\", true);\n}\n\nfunction showMorningside() {\n    zoomCB9();\n    layers.labels.morningside.classed(\"hidden\", false);\n    layers.morningside.classed(\"hidden\", false);\n\n    layers.columbia.classed(\"hidden\", true);\n\n    layers.manhattanville.classed(\"hidden\", true);\n    layers.labels.manhattanville.classed(\"hidden\", true);\n}\n\nfunction showManhattanville() {\n    layers.manhattanville.classed(\"hidden\", false);\n    layers.labels.manhattanville.classed(\"hidden\", false);\n\n    layers.morningside.classed(\"hidden\", true);\n    layers.labels.morningside.classed(\"hidden\", true);\n\n    layers.hamilton.classed(\"hidden\", true);\n    layers.labels.hamilton.classed(\"hidden\", true);\n\n}\n\nfunction showHamilton() {\n    layers.hamilton.classed(\"hidden\", false);\n    layers.labels.hamilton.classed(\"hidden\", false);\n\n    layers.manhattanville.classed(\"hidden\", true);\n    layers.labels.manhattanville.classed(\"hidden\", true);\n\n    layers.labels.morningside.classed(\"hidden\", true);\n    layers.morningside.classed(\"hidden\", true);\n}\n\nfunction showAll() {\n    layers.labels.morningside.classed(\"hidden\", false);\n    layers.morningside.classed(\"hidden\", false);\n\n    layers.manhattanville.classed(\"hidden\", false);\n    layers.labels.manhattanville.classed(\"hidden\", false);\n\n    layers.hamilton.classed(\"hidden\", false);\n    layers.labels.hamilton.classed(\"hidden\", false);\n\n    layers.columbia.classed(\"hidden\", true);\n    layers.labels.columbia.classed(\"hidden\", true);\n}\n\nfunction showColumbia() {\n    layers.columbia.classed(\"hidden\", false);\n    layers.labels.columbia.classed(\"hidden\", false);\n}\n\n// ---- Scrollama setup ----\nconst scroller = scrollama();\n\n// Bind scroll steps\nconst steps = [\n    { id: \"#step-0\", action: reset },\n    { id: \"#step-1\", action: zoomManhattan },\n    { id: \"#step-3\", action: zoomManhattan },\n    { id: \"#step-4\", action: zoomCouncil },\n    { id: \"#step-5\", action: fadeCB9 },\n    { id: \"#step-5a\", action: showMorningside },\n    { id: \"#step-6\", action: showManhattanville },\n    { id: \"#step-10\", action: showManhattanville },\n    { id: \"#step-11\", action: showHamilton },\n    { id: \"#step-13\", action: showAll },\n    { id: \"#step-22\", action: showAll },\n    { id: \"#step-23\", action: showColumbia },\n];\n\nreset()\n\nsteps.forEach(({ id, action }) => {\n    d3.select(id).on(\"stepin\", action);\n});\n\n\nscroller\n    .setup({\n        step: \"#scrolly .scrolly-overlay .step\",\n        offset: 0.5,\n        debug: false\n    })\n    .onStepEnter(({ element, direction }) => {\n        element.dispatchEvent(new CustomEvent(\"stepin\", { detail: { direction } }));\n    })\n    .onStepExit(({ element, direction }) => {\n        element.dispatchEvent(new CustomEvent(\"stepout\", { detail: { direction } }));\n    });\n\nwindow.addEventListener(\"resize\", scroller.resize);\n"]}